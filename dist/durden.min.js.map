{"version":3,"sources":["durden.js"],"names":["f","exports","module","define","amd","window","global","self","this","Durden","r","e","n","t","o","i","c","require","u","a","Error","code","p","call","length","1","obj","_tiling","__esModule","default","_defineProperties","target","props","descriptor","enumerable","configurable","writable","Object","defineProperty","key","container","m","instance","Constructor","TypeError","_classCallCheck","canvas","document","createElement","appendChild","paper","setup","view","applyMatrix","tiling","bcdeLen","transform","centerTile","superTiles","Math","floor","setCenter","group","bounds","getCenter","update","on","TWEEN","protoProps","staticProps","prototype","_createClass","value","tiles","getAllTiles","currentIndex","randomIndex","random","temporaryValue","duration","showTiles","getShuffledTiles","corner1","center","corner2","corner3","corner4","minX","min","x","maxX","max","minY","y","maxY","Rectangle","from","Point","to","_this","rescale","arguments","undefined","steps","MIN_B","MAX_B","Tween","angle","easing","Easing","Sinusoidal","InOut","onUpdate","progress","getBounds","setScaling","getViewSize","width","height","repeat","Infinity","yoyo","start","fillColor","forEach","tile","setStroke","colors","getAllSuperTiles","superTile","color","tile1","path","tile2","tile3","tile4","opacity","shown","last","Themes","RGB","Spring","Flowers","Autumn","Winter","Christmas","./tiling","2","_tile","SuperTile","Group","segmentLength","angB","copyShape","rotate","vE","subtract","vA","getAngle","translate","vD","vC","get","localToParent","vB","./tile","3","Tile","flipH","flipV","Path","closed","scale","strokeColor","strokeWidth","add","segmentLen","segments","angC","beta","lengtha","sin","PI","lengthb","sqrt","cos","angles","asin","point","set","copyMatrix","setMatrix","getMatrix","4","_supertile","Tiling","createMatrix","j","firstTile","baseAngle","flippedAngle","rotation","distances","push","sww","nne","south","west","multiply","row","matrix","newRow","./supertile"],"mappings":"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","file":"durden.min.js","sourcesContent":["(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.Durden = f()}})(function(){var define,module,exports;return (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n\"use strict\";\n\nvar _tiling = _interopRequireDefault(require(\"./tiling\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar Durden =\n/*#__PURE__*/\nfunction () {\n  /**\n   * Constructor\n   *\n   * @param {HTMLElement} container\n   *  The container for the tiling\n   * @param {Number} n\n   *  Number of supertiles horizontally\n   * @param {Number} m\n   *  Number of supertiles vertically\n   */\n  function Durden(container, n, m) {\n    _classCallCheck(this, Durden);\n\n    this.canvas = window.document.createElement('canvas');\n    container.appendChild(this.canvas);\n    paper.setup(this.canvas);\n    paper.view.applyMatrix = false;\n    this.tiling = new _tiling[\"default\"](n, m);\n    this.bcdeLen = 50;\n    var angB = 134;\n    this.tiling.transform(this.bcdeLen, angB);\n    var centerTile = this.tiling.superTiles[Math.floor(this.tiling.n / 2)][Math.floor(this.tiling.m / 2)];\n    paper.view.setCenter(centerTile.group.bounds.getCenter());\n    paper.view.update();\n    paper.view.on('frame', function () {\n      TWEEN.update();\n    });\n  }\n  /**\n   * Returns a randomly shuffled list of all the tiles in the tiling.\n   * @return {Array}\n   */\n\n\n  _createClass(Durden, [{\n    key: \"getShuffledTiles\",\n    value: function getShuffledTiles() {\n      var tiles = this.tiling.getAllTiles();\n      var currentIndex = tiles.length; // While there remain elements to shuffle...\n\n      while (currentIndex !== 0) {\n        // Pick a remaining element...\n        var randomIndex = Math.floor(Math.random() * currentIndex);\n        currentIndex -= 1; // And swap it with the current element.\n\n        var temporaryValue = tiles[currentIndex];\n        tiles[currentIndex] = tiles[randomIndex];\n        tiles[randomIndex] = temporaryValue;\n      }\n\n      return tiles;\n    }\n    /**\n     * Shows the tiles progressively in random order\n     *\n     * @param {Number} duration\n     *  Length of the animation in seconds\n     * @return {Tween}\n     *  An instance of Tween (check tweenjs docs)\n     */\n\n  }, {\n    key: \"showTilesRandom\",\n    value: function showTilesRandom(duration) {\n      return Durden.showTiles(this.getShuffledTiles(), duration);\n    }\n    /**\n     * Shows the tiles progressively in order\n     *\n     * @param {Number} duration\n     *  Length of the animation in seconds\n     * @return {Tween}\n     *  An instance of Tween (check tweenjs docs)\n     */\n\n  }, {\n    key: \"showTilesOrdered\",\n    value: function showTilesOrdered(duration) {\n      return Durden.showTiles(this.tiling.getAllTiles(), duration);\n    }\n    /**\n     * Show a (ordered) list of tiles progressively\n     *\n     * @param {Array} tiles\n     *  Ordered list of tiles to show\n     * @param duration\n     *  Length of the animation in seconds\n     * @return {Tween}\n     *  An instance of Tween (check tweenjs docs)\n     */\n\n  }, {\n    key: \"getBounds\",\n\n    /**\n     * Returns the inner bounding box of the tiling.\n     *\n     * The inner bounding box should be the maximal rectangle which is, at all points in the\n     * transformation, completely covered by tiles.\n     *\n     * @return {paper.Rectangle}\n     */\n    value: function getBounds() {\n      var corner1 = this.tiling.superTiles[0][0].group.bounds.center;\n      var corner2 = this.tiling.superTiles[0][this.tiling.m - 1].group.bounds.center;\n      var corner3 = this.tiling.superTiles[this.tiling.n - 1][0].group.bounds.center;\n      var corner4 = this.tiling.superTiles[this.tiling.n - 1][this.tiling.m - 1].group.bounds.center;\n      var minX = Math.min(corner1.x, corner3.x);\n      var maxX = Math.max(corner2.x, corner4.x);\n      var minY = Math.min(corner1.y, corner2.y, corner3.y, corner4.y);\n      var maxY = Math.max(corner1.y, corner2.y, corner3.y, corner4.y);\n      return new paper.Rectangle({\n        from: new paper.Point(minX, minY),\n        to: new paper.Point(maxX, maxY)\n      });\n    }\n    /**\n     * Animates the transformation of the shape of the tiles while maintaining the tiling.\n     *\n     * The angles and side length of the tiles are modified within the parameters\n     * of a Type 8 pentagonal tiling.\n     *\n     * @param {Number} duration\n     *  Length of the animation\n     * @param {Boolean} rescale\n     *  Whether to rescale the animation viewport to completely fill the container\n     * @return {*}\n     */\n\n  }, {\n    key: \"transformTiles\",\n    value: function transformTiles(duration) {\n      var _this = this;\n\n      var rescale = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var steps = [_tiling[\"default\"].MIN_B, _tiling[\"default\"].MIN_B + (_tiling[\"default\"].MAX_B - _tiling[\"default\"].MIN_B) / 4, _tiling[\"default\"].MIN_B + (_tiling[\"default\"].MAX_B - _tiling[\"default\"].MIN_B) / 4 * 2, _tiling[\"default\"].MIN_B + (_tiling[\"default\"].MAX_B - _tiling[\"default\"].MIN_B) / 4 * 3, _tiling[\"default\"].MAX_B];\n\n      var transform = function transform(progress) {\n        _this.tiling.transform(_this.bcdeLen, progress.angle);\n\n        var bounds = _this.getBounds();\n\n        if (rescale) {\n          paper.view.setScaling(paper.view.getViewSize().width / bounds.width, paper.view.getViewSize().height / bounds.height);\n        }\n\n        paper.view.setCenter(bounds.getCenter());\n      };\n\n      return new TWEEN.Tween({\n        angle: steps[4]\n      }).to({\n        angle: steps[0]\n      }, duration).easing(TWEEN.Easing.Sinusoidal.InOut).onUpdate(transform).repeat(Infinity).yoyo(true).start();\n    }\n    /**\n     * Set the stroke (contour line) of all the tiles\n     *\n     * @param {Number} width\n     *  Stroke width\n     * @param {String} fillColor\n     *  Stroke color (in #rrggbb format)\n     */\n\n  }, {\n    key: \"setStroke\",\n    value: function setStroke(width, fillColor) {\n      this.tiling.getAllTiles().forEach(function (tile) {\n        tile.setStroke(width, fillColor);\n      });\n    }\n    /**\n     * Color the supertiles in the tiling randomly.\n     *\n     * @param {Array} colors\n     *  List of colors (as '#rrggbb' strings).\n     */\n\n  }, {\n    key: \"colorSuperTilesRandom\",\n    value: function colorSuperTilesRandom(colors) {\n      this.tiling.getAllSuperTiles().forEach(function (superTile) {\n        var color = colors[Math.floor(Math.random() * colors.length)];\n        superTile.tile1.path.fillColor = color;\n        superTile.tile2.path.fillColor = color;\n        superTile.tile3.path.fillColor = color;\n        superTile.tile4.path.fillColor = color;\n      });\n    }\n    /**\n     * Color the tiles in the tiling randomly\n     *\n     * @param {Array} colors\n     *  List of colors (as '#rrggbb' strings).\n     */\n\n  }, {\n    key: \"colorTilesRandom\",\n    value: function colorTilesRandom(colors) {\n      this.tiling.getAllTiles().forEach(function (tile) {\n        tile.path.fillColor = colors[Math.floor(Math.random() * colors.length)];\n      });\n    }\n    /**\n     * Color the tiles in the tiling cyclically using the colors in order.\n     *\n     * @param {Array} colors\n     *  List of colors (as '#rrggbb' strings).\n     */\n\n  }, {\n    key: \"colorTilesPeriodic\",\n    value: function colorTilesPeriodic(colors) {\n      this.tiling.getAllTiles().forEach(function (tile, i) {\n        tile.path.fillColor = colors[i % colors.length];\n      });\n    }\n    /**\n     * Color the supertiles in the tiling cyclically using the colors in order.\n     *\n     * @param {Array} colors\n     *  List of colors (as '#rrggbb' strings).\n     */\n\n  }, {\n    key: \"colorSuperTilesPeriodic\",\n    value: function colorSuperTilesPeriodic(colors) {\n      this.tiling.getAllTiles().forEach(function (tile, i) {\n        tile.path.fillColor = colors[Math.floor(i / 4) % colors.length];\n      });\n    }\n  }], [{\n    key: \"showTiles\",\n    value: function showTiles(tiles, duration) {\n      tiles.forEach(function (tile) {\n        tile.path.opacity = 0;\n      });\n      var shown = 0;\n      return new TWEEN.Tween({\n        last: 0\n      }).to({\n        last: tiles.length - 1\n      }, duration).easing(TWEEN.Easing.Sinusoidal.InOut).onUpdate(function (progress) {\n        var last = Math.floor(progress.last);\n\n        for (var i = shown; i <= last; i += 1) {\n          tiles[i].path.opacity = 1;\n        }\n\n        shown = last;\n      }).start();\n    }\n  }]);\n\n  return Durden;\n}();\n\nDurden.Themes = {\n  RGB: ['#ff9999', '#99ff99', '#9999ff', '#ff99ff'],\n  Spring: ['#54678C', '#9BDAF2', '#F2C12E', '#F2E1C2', '#D95252'],\n  Flowers: ['#D95B96', '#BABF1B', '#D9981E', '#D9751E', '#8C1616'],\n  Autumn: ['#A62447', '#D9326F', '#525F43', '#6C2A35', '#D9936A'],\n  Winter: ['#0B0340', '#263973', '#495F8C', '#A0CCF2', '#514071'],\n  Christmas: ['#F2293A', '#F24464', '#678C5D', '#730202', '#BFBFBD']\n};\nmodule.exports = {\n  Durden: Durden,\n  Themes: Durden.Themes\n};\n\n},{\"./tiling\":4}],2:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _tile = _interopRequireDefault(require(\"./tile\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n/**\n * A SuperTile is a group of four adjacent tiles, each of which is flipped\n * in each of the four different ways. SuperTiles can be placed in a grid\n * to create a Tiling.\n *\n * Each of the \"outer\" vertexes of a SuperTile has a name according to its position:\n * N = North, NNE = North-northeast, NEE=Northeast-east, etc.\n */\nvar SuperTile =\n/*#__PURE__*/\nfunction () {\n  function SuperTile() {\n    _classCallCheck(this, SuperTile);\n\n    this.tile1 = new _tile[\"default\"]('#ff9999', false, false);\n    this.tile2 = new _tile[\"default\"]('#99ff99', true, false);\n    this.tile3 = new _tile[\"default\"]('#9999ff', false, true);\n    this.tile4 = new _tile[\"default\"]('#ff99ff', true, true);\n    this.group = new paper.Group([this.tile1.path, this.tile2.path, this.tile3.path, this.tile4.path]);\n    this.group.applyMatrix = false;\n  }\n  /**\n   * Alters the shape of the SuperTile according to the arguments\n   *\n   * @param {Number} segmentLength\n   *  Length of the segments. Only the E-A segment has a different length.\n   * @param {Number} angB\n   *  Angle for vertex B (in degrees)\n   */\n\n\n  _createClass(SuperTile, [{\n    key: \"transform\",\n    value: function transform(segmentLength, angB) {\n      this.tile1.transform(segmentLength, angB);\n      this.tile2.copyShape(this.tile1, false);\n      this.tile3.copyShape(this.tile1, false);\n      this.tile4.copyShape(this.tile1, false); // Align segment E-A of tile2 to E-A of tile1\n\n      this.tile2.path.rotate(this.tile1.vE.subtract(this.tile1.vA).getAngle() - this.tile2.vE.subtract(this.tile2.vA).getAngle()); // Move vertex A of tile2 to vertex A of tile1\n\n      this.tile2.path.translate(this.tile1.vA.subtract(this.tile2.vA)); // Align segment D-C of tile3 to E-D of tile1\n\n      this.tile3.path.rotate(this.tile1.vE.subtract(this.tile1.vD).getAngle() - this.tile3.vD.subtract(this.tile3.vC).getAngle()); // Move vertex D of tile3 to vertex E of tile1\n\n      this.tile3.path.translate(this.tile1.vE.subtract(this.tile3.vD)); // Align segment E-A of tile4 to E-A of tile3\n\n      this.tile4.path.rotate(this.tile3.vE.subtract(this.tile3.vA).getAngle() - this.tile4.vE.subtract(this.tile4.vA).getAngle()); // Move vertex A of tile4 to vertex A of tile3\n\n      this.tile4.path.translate(this.tile3.vA.subtract(this.tile4.vA));\n    }\n    /**\n     * North vertex\n     * @return {paper.Point}\n     */\n\n  }, {\n    key: \"copyShape\",\n\n    /**\n     * Makes this tile copy the shape of another supertile.\n     *\n     * The \"shape\" is defined by the shape of all the tiles and their transformation matrixes.\n     *\n     */\n    value: function copyShape(superTile) {\n      this.tile1.copyShape(superTile.tile1);\n      this.tile2.copyShape(superTile.tile2);\n      this.tile3.copyShape(superTile.tile3);\n      this.tile4.copyShape(superTile.tile4);\n    }\n  }, {\n    key: \"north\",\n    get: function get() {\n      return this.group.localToParent(this.tile1.vA);\n    }\n    /**\n     * North-northeast vertex\n     * @return {paper.Point}\n     */\n\n  }, {\n    key: \"nne\",\n    get: function get() {\n      return this.group.localToParent(this.tile1.vB);\n    }\n    /**\n     * Northeast-east vertex\n     * @return {paper.Point}\n     */\n\n  }, {\n    key: \"nee\",\n    get: function get() {\n      return this.group.localToParent(this.tile1.vC);\n    }\n    /**\n     * South vertex\n     * @return {paper.Point}\n     */\n\n  }, {\n    key: \"south\",\n    get: function get() {\n      return this.group.localToParent(this.tile3.vA);\n    }\n    /**\n     * Southeast vertex\n     * @return {paper.Point}\n     */\n\n  }, {\n    key: \"se\",\n    get: function get() {\n      return this.group.localToParent(this.tile3.vB);\n    }\n    /**\n     * South-southwest vertex\n     * @return {paper.Point}\n     */\n\n  }, {\n    key: \"ssw\",\n    get: function get() {\n      return this.group.localToParent(this.tile4.vB);\n    }\n    /**\n     * Southwest-west vertex\n     * @return {paper.Point}\n     */\n\n  }, {\n    key: \"sww\",\n    get: function get() {\n      return this.group.localToParent(this.tile4.vC);\n    }\n    /**\n     * East vertex\n     * @return {paper.Point}\n     */\n\n  }, {\n    key: \"east\",\n    get: function get() {\n      return this.group.localToParent(this.tile1.vD);\n    }\n    /**\n     * West vertex\n     * @return {paper.Point}\n     */\n\n  }, {\n    key: \"west\",\n    get: function get() {\n      return this.group.localToParent(this.tile2.vC);\n    }\n    /**\n     * Northwest vertex\n     * @return {paper.Point}\n     */\n\n  }, {\n    key: \"nw\",\n    get: function get() {\n      return this.group.localToParent(this.tile2.vB);\n    }\n  }]);\n\n  return SuperTile;\n}();\n\nexports[\"default\"] = SuperTile;\n\n},{\"./tile\":3}],3:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n/* globals paper */\n\n/**\n * A single tile\n *\n *           D\n *         /   \\\n *      /        \\\n *    E            \\\n *    |              C\n *   |              |\n *   |              |\n *  |              |\n *  A-------------B\n *\n */\nvar Tile =\n/*#__PURE__*/\nfunction () {\n  /**\n   * Constructor\n   *\n   * @param {string} fillColor\n   *  Tile color\n   * @param {boolean} flipH\n   *  If true the tile will be flipped horizontally\n   * @param {boolean} flipV\n   *  If true the tile will be flipped vertically\n   */\n  function Tile(fillColor) {\n    var flipH = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    var flipV = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n    _classCallCheck(this, Tile);\n\n    this.path = new paper.Path();\n    this.path.closed = true;\n    this.path.applyMatrix = false;\n    this.path.scale(flipH ? -1 : 1, flipV ? -1 : 1);\n    this.path.fillColor = fillColor;\n    this.path.strokeColor = '#999999';\n    this.path.strokeWidth = 1;\n\n    for (var i = 0; i < 5; i += 1) {\n      this.path.add(new paper.Point(0, 0));\n    }\n  }\n  /**\n   * Alters the shape of the tile according to the arguments\n   *\n   * @param {Number} segmentLen\n   *  Length of the segments. Only the E-A segment has a different length.\n   * @param {Number} angB\n   *  Angle for vertex B (in degrees)\n   */\n\n\n  _createClass(Tile, [{\n    key: \"transform\",\n    value: function transform(segmentLen, angB) {\n      var segments = this.path.segments;\n      var angC = 360.0 - 2.0 * angB;\n      var beta = (180 - angB) / 2;\n      var lengtha = 2 * Math.sin(angB / 2 * Math.PI / 180); // Law of cosines\n\n      var lengthb = Math.sqrt(lengtha * lengtha + 2 * 2 - 2 * lengtha * 2 * Math.cos((angC - beta) * Math.PI / 180)); // Law of sines: sin((angC - beta))/lengthb = sin(d/2)/lengtha\n\n      var angD = 2 * Math.asin(Math.sin((angC - beta) * Math.PI / 180) / lengthb * lengtha) * 180 / Math.PI; // If you don't read the next line you're not an accomplice and your soul is still saved. SORRY.\n      // const angD = angB * 1.51 - 99.38\n      //   + ((1 - Math.cos((angB - 109) * Math.PI / 180)) * 17.5 - 0.5); // UGLY\n\n      var angles = [0, angB, angC, angD];\n      var angle = 0;\n      [1, 2, 3, 4].forEach(function (i) {\n        angle += 180 - angles[i - 1];\n        segments[i].point.set(segments[i - 1].point.add(new paper.Point({\n          length: segmentLen,\n          angle: angle\n        })));\n      });\n    }\n    /**\n     * Modify the tile's stroke (contour line)\n     *\n     * @param {Number} width\n     *  Stroke width\n     * @param {String} color\n     *  Stroke color (in #rrggbb format)\n     */\n\n  }, {\n    key: \"setStroke\",\n    value: function setStroke(width, color) {\n      this.path.strokeWidth = width;\n      this.path.strokeColor = color;\n    }\n    /**\n     * Set the inner color of the tile\n     *\n     * @param {String} color\n     *  Fill color (in #rrggbb format)\n     */\n\n  }, {\n    key: \"setColor\",\n    value: function setColor(color) {\n      this.path.fillColor = color;\n    }\n    /**\n     * Vertex A\n     * @return {paper.Point}\n     */\n\n  }, {\n    key: \"copyShape\",\n\n    /**\n     * Makes this tile copy the shape of another tile\n     *\n     * The \"shape\" includes the position of all vertices and the transformation matrix.\n     *\n     * @param {Tile} tile\n     * @param {boolean} copyMatrix\n     *  Whether to copy the transformation matrix\n     */\n    value: function copyShape(tile) {\n      var copyMatrix = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n      for (var i = 1; i <= 4; i += 1) {\n        this.path.segments[i].point.set(tile.path.segments[i].point);\n      }\n\n      if (copyMatrix) {\n        this.path.setMatrix(tile.path.getMatrix());\n      }\n    }\n  }, {\n    key: \"vA\",\n    get: function get() {\n      return this.path.localToParent(this.path.segments[0].point);\n    }\n    /**\n     * Vertex B\n     * @return {paper.Point}\n     */\n\n  }, {\n    key: \"vB\",\n    get: function get() {\n      return this.path.localToParent(this.path.segments[1].point);\n    }\n    /**\n     * Vertex C\n     * @return {paper.Point}\n     */\n\n  }, {\n    key: \"vC\",\n    get: function get() {\n      return this.path.localToParent(this.path.segments[2].point);\n    }\n    /**\n     * Vertex D\n     * @return {paper.Point}\n     */\n\n  }, {\n    key: \"vD\",\n    get: function get() {\n      return this.path.localToParent(this.path.segments[3].point);\n    }\n    /**\n     * Vertex E\n     * @return {paper.Point}\n     */\n\n  }, {\n    key: \"vE\",\n    get: function get() {\n      return this.path.localToParent(this.path.segments[4].point);\n    }\n  }]);\n\n  return Tile;\n}();\n\nexports[\"default\"] = Tile;\n\n},{}],4:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _supertile = _interopRequireDefault(require(\"./supertile\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n/**\n * A pentagonal tiling\n */\nvar Tiling =\n/*#__PURE__*/\nfunction () {\n  /**\n   * Builds a tiling of n x m SuperTiles\n   *\n   * @param {Number} n\n   * @param {Number} m\n   */\n  function Tiling(n, m) {\n    _classCallCheck(this, Tiling);\n\n    this.n = n;\n    this.m = m;\n    this.superTiles = Tiling.createMatrix(this.n, this.m); // Create and connect supertiles\n\n    for (var i = 0; i < this.n; i += 1) {\n      for (var j = 0; j < this.m; j += 1) {\n        this.superTiles[i][j] = new _supertile[\"default\"]();\n\n        if (j % 2 === 1) {\n          // Supertiles in odd rows are flipped and rotated\n          this.superTiles[i][j].group.scale(1, -1);\n        }\n      }\n    }\n  }\n  /**\n   * Alters the shape of the tiles according to the arguments\n   *\n   * @param {Number} segmentLen\n   *  Length of the segments. Only the E-A segment has a different length.\n   * @param {Number} angB\n   *  Angle for vertex B (in degrees)\n   */\n\n\n  _createClass(Tiling, [{\n    key: \"transform\",\n    value: function transform(segmentLen, angB) {\n      var firstTile = this.superTiles[0][0];\n      firstTile.transform(segmentLen, angB); // This baseAngle produces an almost rectangular \"stacking\" of supertiles\n\n      var baseAngle = 180 - firstTile.tile4.vB.subtract(firstTile.tile1.vC).getAngle();\n      var flippedAngle = angB + firstTile.tile2.vB.subtract(firstTile.tile2.vA).getAngle();\n      this.superTiles[0][0].group.rotation = baseAngle;\n\n      for (var i = 0; i < this.n; i += 1) {\n        for (var j = 0; j < this.m; j += 1) {\n          if (i === 0 && j === 0) {\n            // eslint-disable-next-line no-continue\n            continue;\n          }\n\n          this.superTiles[i][j].copyShape(firstTile);\n\n          if (j % 2 === 1) {\n            // Supertiles in odd rows are rotated\n            this.superTiles[i][j].group.rotation = baseAngle + flippedAngle;\n          } else {\n            this.superTiles[i][j].group.rotation = baseAngle;\n          }\n\n          var distances = [];\n\n          if (i > 0) {\n            if (j % 2 === 1) {\n              distances.push(this.superTiles[i - 1][j].sww.subtract(this.superTiles[i][j].nne));\n            } else {\n              distances.push(this.superTiles[i - 1][j].nne.subtract(this.superTiles[i][j].sww));\n            }\n          }\n\n          if (j > 0) {\n            distances.push(this.superTiles[i][j - 1].south.subtract(this.superTiles[i][j].west));\n          }\n\n          if (distances.length === 1) {\n            this.superTiles[i][j].group.translate(distances[0]);\n          }\n\n          if (distances.length === 2) {\n            this.superTiles[i][j].group.translate(distances[0].add(distances[1]).multiply(0.5));\n          }\n        }\n      }\n    }\n    /**\n     * Returns all the tiles in the tiling\n     * @return {[]}\n     */\n\n  }, {\n    key: \"getAllTiles\",\n    value: function getAllTiles() {\n      var tiles = [];\n      this.superTiles.forEach(function (row) {\n        row.forEach(function (superTile) {\n          tiles.push(superTile.tile1);\n          tiles.push(superTile.tile2);\n          tiles.push(superTile.tile3);\n          tiles.push(superTile.tile4);\n        });\n      });\n      return tiles;\n    }\n  }, {\n    key: \"getAllSuperTiles\",\n    value: function getAllSuperTiles() {\n      var superTiles = [];\n      this.superTiles.forEach(function (row) {\n        row.forEach(function (superTile) {\n          superTiles.push(superTile);\n        });\n      });\n      return superTiles;\n    }\n    /**\n     * Creates an empty matrix of size n x m\n     *\n     * @param {Number} n\n     * @param {Number} m\n     * @return {[]}\n     */\n\n  }], [{\n    key: \"createMatrix\",\n    value: function createMatrix(n, m) {\n      var matrix = [];\n\n      for (var i = 0; i < n; i += 1) {\n        var newRow = [];\n\n        for (var j = 0; j < m; j += 1) {\n          newRow.push([]);\n        }\n\n        matrix.push(newRow);\n      }\n\n      return matrix;\n    }\n  }]);\n\n  return Tiling;\n}();\n\nexports[\"default\"] = Tiling;\nTiling.MIN_B = 74;\nTiling.MAX_B = 156;\n\n},{\"./supertile\":2}]},{},[1])(1)\n});\n"]}