{"version":3,"sources":["durden.js"],"names":["f","exports","module","define","amd","window","global","self","this","Durden","r","e","n","t","o","i","c","require","u","a","Error","code","p","call","length","1","obj","_tiling","__esModule","default","_defineProperties","target","props","descriptor","enumerable","configurable","writable","Object","defineProperty","key","container","m","instance","Constructor","TypeError","_classCallCheck","canvas","document","createElement","appendChild","paper","setup","view","applyMatrix","tiling","bcdeLen","angB","MAX_B","transformTiles","update","on","TWEEN","protoProps","staticProps","prototype","_createClass","value","tiles","getAllTiles","currentIndex","randomIndex","Math","floor","random","temporaryValue","duration","showTiles","getShuffledTiles","corner1","superTiles","group","bounds","center","corner2","corner3","corner4","minX","min","x","maxX","max","minY","y","maxY","Rectangle","from","Point","to","_this","angleFrom","arguments","undefined","MIN_B","angleTo","rescale","Tween","angle","easing","Easing","Sinusoidal","InOut","onUpdate","progress","repeat","Infinity","yoyo","start","segmentLen","transform","getBounds","getViewSize","width","height","setScaling","setCenter","getCenter","fillColor","forEach","tile","setStroke","colors","getAllSuperTiles","superTile","color","tile1","path","tile2","tile3","tile4","opacity","shown","last","Cubic","Themes","RGB","Spring","Flowers","Autumn","Winter","Christmas","MIN_ANGLE","MAX_ANGLE","./tiling","2","_tile","SuperTile","Group","segmentLength","copyShape","rotate","vE","subtract","vA","getAngle","translate","vD","vC","get","localToParent","vB","./tile","3","Tile","flipH","flipV","Path","closed","scale","strokeColor","strokeWidth","add","segments","angC","beta","lengtha","sin","PI","lengthb","sqrt","cos","angles","asin","point","set","copyMatrix","setMatrix","getMatrix","4","_supertile","Tiling","createMatrix","j","firstTile","baseAngle","flippedAngle","rotation","distances","push","sww","nne","south","west","multiply","row","matrix","newRow","./supertile"],"mappings":"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","file":"durden.min.js","sourcesContent":["(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.Durden = f()}})(function(){var define,module,exports;return (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n\"use strict\";\n\nvar _tiling = _interopRequireDefault(require(\"./tiling\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar Durden =\n/*#__PURE__*/\nfunction () {\n  /**\n   * Constructor\n   *\n   * @param {HTMLElement} container\n   *  The container for the tiling\n   * @param {Number} n\n   *  Number of supertiles horizontally\n   * @param {Number} m\n   *  Number of supertiles vertically\n   */\n  function Durden(container, n, m) {\n    _classCallCheck(this, Durden);\n\n    this.canvas = window.document.createElement('canvas');\n    container.appendChild(this.canvas);\n    paper.setup(this.canvas);\n    paper.view.applyMatrix = false;\n    this.tiling = new _tiling[\"default\"](n, m);\n    this.bcdeLen = 50;\n    var angB = _tiling[\"default\"].MAX_B;\n    this.transformTiles(this.bcdeLen, angB, true);\n    paper.view.update();\n    paper.view.on('frame', function () {\n      TWEEN.update();\n    });\n  }\n  /**\n   * Returns a randomly shuffled list of all the tiles in the tiling.\n   * @return {Array}\n   */\n\n\n  _createClass(Durden, [{\n    key: \"getShuffledTiles\",\n    value: function getShuffledTiles() {\n      var tiles = this.tiling.getAllTiles();\n      var currentIndex = tiles.length; // While there remain elements to shuffle...\n\n      while (currentIndex !== 0) {\n        // Pick a remaining element...\n        var randomIndex = Math.floor(Math.random() * currentIndex);\n        currentIndex -= 1; // And swap it with the current element.\n\n        var temporaryValue = tiles[currentIndex];\n        tiles[currentIndex] = tiles[randomIndex];\n        tiles[randomIndex] = temporaryValue;\n      }\n\n      return tiles;\n    }\n    /**\n     * Shows the tiles progressively in random order\n     *\n     * @param {Number} duration\n     *  Length of the animation in seconds\n     * @return {Tween}\n     *  An instance of Tween (check tweenjs docs)\n     */\n\n  }, {\n    key: \"showTilesRandom\",\n    value: function showTilesRandom(duration) {\n      return Durden.showTiles(this.getShuffledTiles(), duration);\n    }\n    /**\n     * Shows the tiles progressively in order\n     *\n     * @param {Number} duration\n     *  Length of the animation in seconds\n     * @return {Tween}\n     *  An instance of Tween (check tweenjs docs)\n     */\n\n  }, {\n    key: \"showTilesOrdered\",\n    value: function showTilesOrdered(duration) {\n      return Durden.showTiles(this.tiling.getAllTiles(), duration);\n    }\n    /**\n     * Show a (ordered) list of tiles progressively\n     *\n     * @param {Array} tiles\n     *  Ordered list of tiles to show\n     * @param duration\n     *  Length of the animation in seconds\n     * @return {Tween}\n     *  An instance of Tween (check tweenjs docs)\n     */\n\n  }, {\n    key: \"getBounds\",\n\n    /**\n     * Returns the inner bounding box of the tiling.\n     *\n     * The inner bounding box should be the maximal rectangle which is, at all points in the\n     * transformation, completely covered by tiles.\n     *\n     * @return {paper.Rectangle}\n     */\n    value: function getBounds() {\n      var corner1 = this.tiling.superTiles[0][0].group.bounds.center;\n      var corner2 = this.tiling.superTiles[0][this.tiling.m - 1].group.bounds.center;\n      var corner3 = this.tiling.superTiles[this.tiling.n - 1][0].group.bounds.center;\n      var corner4 = this.tiling.superTiles[this.tiling.n - 1][this.tiling.m - 1].group.bounds.center;\n      var minX = Math.min(corner1.x, corner3.x);\n      var maxX = Math.max(corner2.x, corner4.x);\n      var minY = Math.min(corner1.y, corner2.y, corner3.y, corner4.y);\n      var maxY = Math.max(corner1.y, corner2.y, corner3.y, corner4.y);\n      return new paper.Rectangle({\n        from: new paper.Point(minX, minY),\n        to: new paper.Point(maxX, maxY)\n      });\n    }\n    /**\n     * Animates the transformation of the shape of the tiles while maintaining the tiling.\n     *\n     * The angles and side length of the tiles are modified within the parameters\n     * of a Type 8 pentagonal tiling.\n     *\n     * @param {Number} duration\n     *  Length of the animation\n     * @param {Number} angleFrom\n     *  Starting angle (in range Tiling.MIN_B, Tiling.MAX_B)\n     * @param {Number} angleTo\n     *  Ending angle (in range Tiling.MIN_B, Tiling.MAX_B)\n     *  Whether to rescale the animation viewport to completely fill the container\n     * @param {boolean} rescale\n     *  If true the tiling will be stretched to fill the container\n     * @return {Tween}\n     *  An instance of Tween (check tweenjs docs)\n     */\n\n  }, {\n    key: \"transformTilesAnimated\",\n    value: function transformTilesAnimated(duration) {\n      var _this = this;\n\n      var angleFrom = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _tiling[\"default\"].MIN_B;\n      var angleTo = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _tiling[\"default\"].MAX_B;\n      var rescale = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n      return new TWEEN.Tween({\n        angle: angleFrom\n      }).to({\n        angle: angleTo\n      }, duration).easing(TWEEN.Easing.Sinusoidal.InOut).onUpdate(function (progress) {\n        _this.transformTiles(_this.bcdeLen, progress.angle, rescale);\n      }).repeat(Infinity).yoyo(true).start();\n    }\n    /**\n     * Transforms the shape of the tiles and adjusts the view.\n     *\n     * @param {Number} segmentLen\n     *  Length of the segments. Only the E-A segment has a different length.\n     * @param {Number} angB\n     *  Angle for vertex B (in degrees)\n     */\n\n  }, {\n    key: \"transformTiles\",\n    value: function transformTiles(segmentLen, angB) {\n      var rescale = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n      this.tiling.transform(segmentLen, angB);\n      var bounds = this.getBounds();\n\n      if (rescale) {\n        if (paper.view.getViewSize().width > bounds.width || paper.view.getViewSize().height > bounds.height) {\n          paper.view.setScaling(Math.max(paper.view.getViewSize().width / bounds.width, paper.view.getViewSize().height / bounds.height));\n        } else {\n          paper.view.setScaling(Math.max(paper.view.getViewSize().width / bounds.width, paper.view.getViewSize().height / bounds.height));\n        }\n      }\n\n      paper.view.setCenter(bounds.getCenter());\n    }\n    /**\n     * Set the stroke (contour line) of all the tiles\n     *\n     * @param {Number} width\n     *  Stroke width\n     * @param {String} fillColor\n     *  Stroke color (in #rrggbb format)\n     */\n\n  }, {\n    key: \"setStroke\",\n    value: function setStroke(width, fillColor) {\n      this.tiling.getAllTiles().forEach(function (tile) {\n        tile.setStroke(width, fillColor);\n      });\n    }\n    /**\n     * Color the supertiles in the tiling randomly.\n     *\n     * @param {Array} colors\n     *  List of colors (as '#rrggbb' strings).\n     */\n\n  }, {\n    key: \"colorSuperTilesRandom\",\n    value: function colorSuperTilesRandom(colors) {\n      this.tiling.getAllSuperTiles().forEach(function (superTile) {\n        var color = colors[Math.floor(Math.random() * colors.length)];\n        superTile.tile1.path.fillColor = color;\n        superTile.tile2.path.fillColor = color;\n        superTile.tile3.path.fillColor = color;\n        superTile.tile4.path.fillColor = color;\n      });\n    }\n    /**\n     * Color the tiles in the tiling randomly\n     *\n     * @param {Array} colors\n     *  List of colors (as '#rrggbb' strings).\n     */\n\n  }, {\n    key: \"colorTilesRandom\",\n    value: function colorTilesRandom(colors) {\n      this.tiling.getAllTiles().forEach(function (tile) {\n        tile.path.fillColor = colors[Math.floor(Math.random() * colors.length)];\n      });\n    }\n    /**\n     * Color the tiles in the tiling cyclically using the colors in order.\n     *\n     * @param {Array} colors\n     *  List of colors (as '#rrggbb' strings).\n     */\n\n  }, {\n    key: \"colorTilesPeriodic\",\n    value: function colorTilesPeriodic(colors) {\n      this.tiling.getAllTiles().forEach(function (tile, i) {\n        tile.path.fillColor = colors[i % colors.length];\n      });\n    }\n    /**\n     * Color the supertiles in the tiling cyclically using the colors in order.\n     *\n     * @param {Array} colors\n     *  List of colors (as '#rrggbb' strings).\n     */\n\n  }, {\n    key: \"colorSuperTilesPeriodic\",\n    value: function colorSuperTilesPeriodic(colors) {\n      this.tiling.getAllTiles().forEach(function (tile, i) {\n        tile.path.fillColor = colors[Math.floor(i / 4) % colors.length];\n      });\n    }\n  }], [{\n    key: \"showTiles\",\n    value: function showTiles(tiles, duration) {\n      tiles.forEach(function (tile) {\n        tile.path.opacity = 0;\n      });\n      var shown = 0;\n      return new TWEEN.Tween({\n        last: 0\n      }).to({\n        last: tiles.length - 1\n      }, duration).easing(TWEEN.Easing.Cubic.InOut).onUpdate(function (progress) {\n        var last = Math.floor(progress.last);\n\n        for (var i = shown; i <= last; i += 1) {\n          tiles[i].path.opacity = 1;\n        }\n\n        shown = last;\n      }).start();\n    }\n  }]);\n\n  return Durden;\n}();\n\nDurden.Themes = {\n  RGB: ['#ff9999', '#99ff99', '#9999ff', '#ff99ff'],\n  Spring: ['#54678C', '#9BDAF2', '#F2C12E', '#F2E1C2', '#D95252'],\n  Flowers: ['#D95B96', '#BABF1B', '#D9981E', '#D9751E', '#8C1616'],\n  Autumn: ['#A62447', '#D9326F', '#525F43', '#6C2A35', '#D9936A'],\n  Winter: ['#0B0340', '#263973', '#495F8C', '#A0CCF2', '#514071'],\n  Christmas: ['#F2293A', '#F24464', '#678C5D', '#730202', '#BFBFBD']\n};\nmodule.exports = {\n  Durden: Durden,\n  Themes: Durden.Themes,\n  MIN_ANGLE: _tiling[\"default\"].MIN_B,\n  MAX_ANGLE: _tiling[\"default\"].MAX_B\n};\n\n},{\"./tiling\":4}],2:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _tile = _interopRequireDefault(require(\"./tile\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n/**\n * A SuperTile is a group of four adjacent tiles, each of which is flipped\n * in each of the four different ways. SuperTiles can be placed in a grid\n * to create a Tiling.\n *\n * Each of the \"outer\" vertexes of a SuperTile has a name according to its position:\n * N = North, NNE = North-northeast, NEE=Northeast-east, etc.\n */\nvar SuperTile =\n/*#__PURE__*/\nfunction () {\n  function SuperTile() {\n    _classCallCheck(this, SuperTile);\n\n    this.tile1 = new _tile[\"default\"]('#ff9999', false, false);\n    this.tile2 = new _tile[\"default\"]('#99ff99', true, false);\n    this.tile3 = new _tile[\"default\"]('#9999ff', false, true);\n    this.tile4 = new _tile[\"default\"]('#ff99ff', true, true);\n    this.group = new paper.Group([this.tile1.path, this.tile2.path, this.tile3.path, this.tile4.path]);\n    this.group.applyMatrix = false;\n  }\n  /**\n   * Alters the shape of the SuperTile according to the arguments\n   *\n   * @param {Number} segmentLength\n   *  Length of the segments. Only the E-A segment has a different length.\n   * @param {Number} angB\n   *  Angle for vertex B (in degrees)\n   */\n\n\n  _createClass(SuperTile, [{\n    key: \"transform\",\n    value: function transform(segmentLength, angB) {\n      this.tile1.transform(segmentLength, angB);\n      this.tile2.copyShape(this.tile1, false);\n      this.tile3.copyShape(this.tile1, false);\n      this.tile4.copyShape(this.tile1, false); // Align segment E-A of tile2 to E-A of tile1\n\n      this.tile2.path.rotate(this.tile1.vE.subtract(this.tile1.vA).getAngle() - this.tile2.vE.subtract(this.tile2.vA).getAngle()); // Move vertex A of tile2 to vertex A of tile1\n\n      this.tile2.path.translate(this.tile1.vA.subtract(this.tile2.vA)); // Align segment D-C of tile3 to E-D of tile1\n\n      this.tile3.path.rotate(this.tile1.vE.subtract(this.tile1.vD).getAngle() - this.tile3.vD.subtract(this.tile3.vC).getAngle()); // Move vertex D of tile3 to vertex E of tile1\n\n      this.tile3.path.translate(this.tile1.vE.subtract(this.tile3.vD)); // Align segment E-A of tile4 to E-A of tile3\n\n      this.tile4.path.rotate(this.tile3.vE.subtract(this.tile3.vA).getAngle() - this.tile4.vE.subtract(this.tile4.vA).getAngle()); // Move vertex A of tile4 to vertex A of tile3\n\n      this.tile4.path.translate(this.tile3.vA.subtract(this.tile4.vA));\n    }\n    /**\n     * North vertex\n     * @return {paper.Point}\n     */\n\n  }, {\n    key: \"copyShape\",\n\n    /**\n     * Makes this tile copy the shape of another supertile.\n     *\n     * The \"shape\" is defined by the shape of all the tiles and their transformation matrixes.\n     *\n     */\n    value: function copyShape(superTile) {\n      this.tile1.copyShape(superTile.tile1);\n      this.tile2.copyShape(superTile.tile2);\n      this.tile3.copyShape(superTile.tile3);\n      this.tile4.copyShape(superTile.tile4);\n    }\n  }, {\n    key: \"north\",\n    get: function get() {\n      return this.group.localToParent(this.tile1.vA);\n    }\n    /**\n     * North-northeast vertex\n     * @return {paper.Point}\n     */\n\n  }, {\n    key: \"nne\",\n    get: function get() {\n      return this.group.localToParent(this.tile1.vB);\n    }\n    /**\n     * Northeast-east vertex\n     * @return {paper.Point}\n     */\n\n  }, {\n    key: \"nee\",\n    get: function get() {\n      return this.group.localToParent(this.tile1.vC);\n    }\n    /**\n     * South vertex\n     * @return {paper.Point}\n     */\n\n  }, {\n    key: \"south\",\n    get: function get() {\n      return this.group.localToParent(this.tile3.vA);\n    }\n    /**\n     * Southeast vertex\n     * @return {paper.Point}\n     */\n\n  }, {\n    key: \"se\",\n    get: function get() {\n      return this.group.localToParent(this.tile3.vB);\n    }\n    /**\n     * South-southwest vertex\n     * @return {paper.Point}\n     */\n\n  }, {\n    key: \"ssw\",\n    get: function get() {\n      return this.group.localToParent(this.tile4.vB);\n    }\n    /**\n     * Southwest-west vertex\n     * @return {paper.Point}\n     */\n\n  }, {\n    key: \"sww\",\n    get: function get() {\n      return this.group.localToParent(this.tile4.vC);\n    }\n    /**\n     * East vertex\n     * @return {paper.Point}\n     */\n\n  }, {\n    key: \"east\",\n    get: function get() {\n      return this.group.localToParent(this.tile1.vD);\n    }\n    /**\n     * West vertex\n     * @return {paper.Point}\n     */\n\n  }, {\n    key: \"west\",\n    get: function get() {\n      return this.group.localToParent(this.tile2.vC);\n    }\n    /**\n     * Northwest vertex\n     * @return {paper.Point}\n     */\n\n  }, {\n    key: \"nw\",\n    get: function get() {\n      return this.group.localToParent(this.tile2.vB);\n    }\n  }]);\n\n  return SuperTile;\n}();\n\nexports[\"default\"] = SuperTile;\n\n},{\"./tile\":3}],3:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n/* globals paper */\n\n/**\n * A single tile\n *\n *           D\n *         /   \\\n *      /        \\\n *    E            \\\n *    |              C\n *   |              |\n *   |              |\n *  |              |\n *  A-------------B\n *\n */\nvar Tile =\n/*#__PURE__*/\nfunction () {\n  /**\n   * Constructor\n   *\n   * @param {string} fillColor\n   *  Tile color\n   * @param {boolean} flipH\n   *  If true the tile will be flipped horizontally\n   * @param {boolean} flipV\n   *  If true the tile will be flipped vertically\n   */\n  function Tile(fillColor) {\n    var flipH = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    var flipV = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n    _classCallCheck(this, Tile);\n\n    this.path = new paper.Path();\n    this.path.closed = true;\n    this.path.applyMatrix = false;\n    this.path.scale(flipH ? -1 : 1, flipV ? -1 : 1);\n    this.path.fillColor = fillColor;\n    this.path.strokeColor = '#999999';\n    this.path.strokeWidth = 1;\n\n    for (var i = 0; i < 5; i += 1) {\n      this.path.add(new paper.Point(0, 0));\n    }\n  }\n  /**\n   * Alters the shape of the tile according to the arguments\n   *\n   * @param {Number} segmentLen\n   *  Length of the segments. Only the E-A segment has a different length.\n   * @param {Number} angB\n   *  Angle for vertex B (in degrees)\n   */\n\n\n  _createClass(Tile, [{\n    key: \"transform\",\n    value: function transform(segmentLen, angB) {\n      var segments = this.path.segments;\n      var angC = 360.0 - 2.0 * angB;\n      var beta = (180 - angB) / 2;\n      var lengtha = 2 * Math.sin(angB / 2 * Math.PI / 180); // Law of cosines\n\n      var lengthb = Math.sqrt(lengtha * lengtha + 2 * 2 - 2 * lengtha * 2 * Math.cos((angC - beta) * Math.PI / 180)); // Law of sines: sin((angC - beta))/lengthb = sin(d/2)/lengtha\n\n      var angD = 2 * Math.asin(Math.sin((angC - beta) * Math.PI / 180) / lengthb * lengtha) * 180 / Math.PI; // If you don't read the next line you're not an accomplice and your soul is still saved. SORRY.\n      // const angD = angB * 1.51 - 99.38\n      //   + ((1 - Math.cos((angB - 109) * Math.PI / 180)) * 17.5 - 0.5); // UGLY\n\n      var angles = [0, angB, angC, angD];\n      var angle = 0;\n      [1, 2, 3, 4].forEach(function (i) {\n        angle += 180 - angles[i - 1];\n        segments[i].point.set(segments[i - 1].point.add(new paper.Point({\n          length: segmentLen,\n          angle: angle\n        })));\n      });\n    }\n    /**\n     * Modify the tile's stroke (contour line)\n     *\n     * @param {Number} width\n     *  Stroke width\n     * @param {String} color\n     *  Stroke color (in #rrggbb format)\n     */\n\n  }, {\n    key: \"setStroke\",\n    value: function setStroke(width, color) {\n      this.path.strokeWidth = width;\n      this.path.strokeColor = color;\n    }\n    /**\n     * Set the inner color of the tile\n     *\n     * @param {String} color\n     *  Fill color (in #rrggbb format)\n     */\n\n  }, {\n    key: \"setColor\",\n    value: function setColor(color) {\n      this.path.fillColor = color;\n    }\n    /**\n     * Vertex A\n     * @return {paper.Point}\n     */\n\n  }, {\n    key: \"copyShape\",\n\n    /**\n     * Makes this tile copy the shape of another tile\n     *\n     * The \"shape\" includes the position of all vertices and the transformation matrix.\n     *\n     * @param {Tile} tile\n     * @param {boolean} copyMatrix\n     *  Whether to copy the transformation matrix\n     */\n    value: function copyShape(tile) {\n      var copyMatrix = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n      for (var i = 1; i <= 4; i += 1) {\n        this.path.segments[i].point.set(tile.path.segments[i].point);\n      }\n\n      if (copyMatrix) {\n        this.path.setMatrix(tile.path.getMatrix());\n      }\n    }\n  }, {\n    key: \"vA\",\n    get: function get() {\n      return this.path.localToParent(this.path.segments[0].point);\n    }\n    /**\n     * Vertex B\n     * @return {paper.Point}\n     */\n\n  }, {\n    key: \"vB\",\n    get: function get() {\n      return this.path.localToParent(this.path.segments[1].point);\n    }\n    /**\n     * Vertex C\n     * @return {paper.Point}\n     */\n\n  }, {\n    key: \"vC\",\n    get: function get() {\n      return this.path.localToParent(this.path.segments[2].point);\n    }\n    /**\n     * Vertex D\n     * @return {paper.Point}\n     */\n\n  }, {\n    key: \"vD\",\n    get: function get() {\n      return this.path.localToParent(this.path.segments[3].point);\n    }\n    /**\n     * Vertex E\n     * @return {paper.Point}\n     */\n\n  }, {\n    key: \"vE\",\n    get: function get() {\n      return this.path.localToParent(this.path.segments[4].point);\n    }\n  }]);\n\n  return Tile;\n}();\n\nexports[\"default\"] = Tile;\n\n},{}],4:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _supertile = _interopRequireDefault(require(\"./supertile\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n/**\n * A pentagonal tiling\n */\nvar Tiling =\n/*#__PURE__*/\nfunction () {\n  /**\n   * Builds a tiling of n x m SuperTiles\n   *\n   * @param {Number} n\n   * @param {Number} m\n   */\n  function Tiling(n, m) {\n    _classCallCheck(this, Tiling);\n\n    this.n = n;\n    this.m = m;\n    this.superTiles = Tiling.createMatrix(this.n, this.m); // Create and connect supertiles\n\n    for (var i = 0; i < this.n; i += 1) {\n      for (var j = 0; j < this.m; j += 1) {\n        this.superTiles[i][j] = new _supertile[\"default\"]();\n\n        if (j % 2 === 1) {\n          // Supertiles in odd rows are flipped and rotated\n          this.superTiles[i][j].group.scale(1, -1);\n        }\n      }\n    }\n  }\n  /**\n   * Alters the shape of the tiles according to the arguments\n   *\n   * @param {Number} segmentLen\n   *  Length of the segments. Only the E-A segment has a different length.\n   * @param {Number} angB\n   *  Angle for vertex B (in degrees)\n   */\n\n\n  _createClass(Tiling, [{\n    key: \"transform\",\n    value: function transform(segmentLen, angB) {\n      var firstTile = this.superTiles[0][0];\n      firstTile.transform(segmentLen, angB); // This baseAngle produces an almost rectangular \"stacking\" of supertiles\n\n      var baseAngle = 180 - firstTile.tile4.vB.subtract(firstTile.tile1.vC).getAngle();\n      var flippedAngle = angB + firstTile.tile2.vB.subtract(firstTile.tile2.vA).getAngle();\n      this.superTiles[0][0].group.rotation = baseAngle;\n\n      for (var i = 0; i < this.n; i += 1) {\n        for (var j = 0; j < this.m; j += 1) {\n          if (i === 0 && j === 0) {\n            // eslint-disable-next-line no-continue\n            continue;\n          }\n\n          this.superTiles[i][j].copyShape(firstTile);\n\n          if (j % 2 === 1) {\n            // Supertiles in odd rows are rotated\n            this.superTiles[i][j].group.rotation = baseAngle + flippedAngle;\n          } else {\n            this.superTiles[i][j].group.rotation = baseAngle;\n          }\n\n          var distances = [];\n\n          if (i > 0) {\n            if (j % 2 === 1) {\n              distances.push(this.superTiles[i - 1][j].sww.subtract(this.superTiles[i][j].nne));\n            } else {\n              distances.push(this.superTiles[i - 1][j].nne.subtract(this.superTiles[i][j].sww));\n            }\n          }\n\n          if (j > 0) {\n            distances.push(this.superTiles[i][j - 1].south.subtract(this.superTiles[i][j].west));\n          }\n\n          if (distances.length === 1) {\n            this.superTiles[i][j].group.translate(distances[0]);\n          }\n\n          if (distances.length === 2) {\n            this.superTiles[i][j].group.translate(distances[0].add(distances[1]).multiply(0.5));\n          }\n        }\n      }\n    }\n    /**\n     * Returns all the tiles in the tiling\n     * @return {[]}\n     */\n\n  }, {\n    key: \"getAllTiles\",\n    value: function getAllTiles() {\n      var tiles = [];\n      this.superTiles.forEach(function (row) {\n        row.forEach(function (superTile) {\n          tiles.push(superTile.tile1);\n          tiles.push(superTile.tile2);\n          tiles.push(superTile.tile3);\n          tiles.push(superTile.tile4);\n        });\n      });\n      return tiles;\n    }\n  }, {\n    key: \"getAllSuperTiles\",\n    value: function getAllSuperTiles() {\n      var superTiles = [];\n      this.superTiles.forEach(function (row) {\n        row.forEach(function (superTile) {\n          superTiles.push(superTile);\n        });\n      });\n      return superTiles;\n    }\n    /**\n     * Creates an empty matrix of size n x m\n     *\n     * @param {Number} n\n     * @param {Number} m\n     * @return {[]}\n     */\n\n  }], [{\n    key: \"createMatrix\",\n    value: function createMatrix(n, m) {\n      var matrix = [];\n\n      for (var i = 0; i < n; i += 1) {\n        var newRow = [];\n\n        for (var j = 0; j < m; j += 1) {\n          newRow.push([]);\n        }\n\n        matrix.push(newRow);\n      }\n\n      return matrix;\n    }\n  }]);\n\n  return Tiling;\n}();\n\nexports[\"default\"] = Tiling;\nTiling.MIN_B = 74;\nTiling.MAX_B = 156;\n\n},{\"./supertile\":2}]},{},[1])(1)\n});\n"]}