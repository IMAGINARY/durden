{"version":3,"sources":["durden.js"],"names":["f","exports","module","define","amd","window","global","self","this","Durden","r","e","n","t","o","i","c","require","u","a","Error","code","p","call","length","1","obj","_tiling","__esModule","default","_defineProperties","target","props","descriptor","enumerable","configurable","writable","Object","defineProperty","key","container","m","angle","arguments","undefined","MAX_ANGLE","instance","Constructor","TypeError","_classCallCheck","canvas","document","createElement","appendChild","paper","setup","view","applyMatrix","tiling","bcdeLen","transformTiles","update","on","TWEEN","protoProps","staticProps","prototype","_createClass","value","shuffle","getAllTiles","getAllSuperTiles","duration","setTileVisibilityAnimated","getShuffledTiles","getShuffledSuperTiles","visibility","forEach","tile","path","opacity","corner1","superTiles","group","bounds","center","corner2","corner3","corner4","minX","Math","min","x","maxX","max","minY","y","maxY","Rectangle","from","Point","to","_this","angleFrom","MIN_ANGLE","angleTo","rescale","Tween","easing","Easing","Sinusoidal","InOut","onUpdate","progress","repeat","Infinity","yoyo","start","segmentLen","angB","transform","getBounds","getViewSize","width","height","setScaling","setCenter","getCenter","fillColor","setStroke","colors","superTile","color","floor","random","tile1","tile2","tile3","tile4","anArray","currentIndex","randomIndex","temporaryValue","tiles","shown","last","Cubic","In","setVisibility","MAX_B","MIN_B","Themes","RGB","Spring","Flowers","Autumn","Winter","Christmas","./tiling","2","_tile","SuperTile","Group","segmentLength","copyShape","rotate","vE","subtract","vA","getAngle","translate","vD","vC","visible","get","localToParent","vB","./tile","3","Tile","flipH","flipV","Path","closed","scale","strokeColor","strokeWidth","add","segments","angC","beta","lengtha","sin","PI","lengthb","sqrt","cos","angles","asin","point","set","copyMatrix","setMatrix","getMatrix","4","_supertile","Tiling","createMatrix","j","firstTile","baseAngle","flippedAngle","rotation","distances","push","sww","nne","south","west","multiply","row","matrix","newRow","./supertile"],"mappings":"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","file":"durden.min.js","sourcesContent":["(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.Durden = f()}})(function(){var define,module,exports;return (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n\"use strict\";\n\nvar _tiling = _interopRequireDefault(require(\"./tiling\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar Durden =\n/*#__PURE__*/\nfunction () {\n  /**\n   * Constructor\n   *\n   * @param {HTMLElement} container\n   *  The container for the tiling\n   * @param {Number} n\n   *  Number of supertiles horizontally\n   * @param {Number} m\n   *  Number of supertiles vertically\n   * @param {Number} angle\n   *  Starting angle (in Durden.MIN_ANGLE, Durden.MAX_ANGLE range)\n   */\n  function Durden(container, n, m) {\n    var angle = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : Durden.MAX_ANGLE;\n\n    _classCallCheck(this, Durden);\n\n    this.canvas = window.document.createElement('canvas');\n    container.appendChild(this.canvas);\n    paper.setup(this.canvas);\n    paper.view.applyMatrix = false;\n    this.tiling = new _tiling[\"default\"](n, m);\n    this.bcdeLen = 50;\n    this.transformTiles(this.bcdeLen, angle, true);\n    paper.view.update();\n    paper.view.on('frame', function () {\n      TWEEN.update();\n    });\n  }\n  /**\n   * Returns a randomly shuffled list of all the tiles in the tiling.\n   * @return {Array}\n   */\n\n\n  _createClass(Durden, [{\n    key: \"getShuffledTiles\",\n    value: function getShuffledTiles() {\n      return Durden.shuffle(this.tiling.getAllTiles());\n    }\n    /**\n     * Returns a randomly shuffled list of all the tiles in the tiling.\n     * @return {Array}\n     */\n\n  }, {\n    key: \"getShuffledSuperTiles\",\n    value: function getShuffledSuperTiles() {\n      return Durden.shuffle(this.tiling.getAllSuperTiles());\n    }\n  }, {\n    key: \"showTilesRandom\",\n\n    /**\n     * Shows the tiles progressively in random order\n     *\n     * @param {Number} duration\n     *  Length of the animation in seconds\n     * @return {Tween}\n     *  An instance of Tween (check tweenjs docs)\n     */\n    value: function showTilesRandom(duration) {\n      return Durden.setTileVisibilityAnimated(this.getShuffledTiles(), true, duration);\n    }\n    /**\n     * Shows supertiles progressively in random order\n     *\n     * @param {Number} duration\n     *  Length of the animation in seconds\n     * @return {Tween}\n     *  An instance of Tween (check tweenjs docs)\n     */\n\n  }, {\n    key: \"showSuperTilesRandom\",\n    value: function showSuperTilesRandom(duration) {\n      return Durden.setTileVisibilityAnimated(this.getShuffledSuperTiles(), true, duration);\n    }\n    /**\n     * Shows tiles progressively in random order\n     *\n     * @param {Number} duration\n     *  Length of the animation in seconds\n     * @return {Tween}\n     *  An instance of Tween (check tweenjs docs)\n     */\n\n  }, {\n    key: \"hideTilesRandom\",\n    value: function hideTilesRandom(duration) {\n      return Durden.setTileVisibilityAnimated(this.getShuffledTiles(), false, duration);\n    }\n    /**\n     * Hides supertiles progressively in random order\n     *\n     * @param {Number} duration\n     *  Length of the animation in seconds\n     * @return {Tween}\n     *  An instance of Tween (check tweenjs docs)\n     */\n\n  }, {\n    key: \"hideSuperTilesRandom\",\n    value: function hideSuperTilesRandom(duration) {\n      return Durden.setTileVisibilityAnimated(this.getShuffledSuperTiles(), false, duration);\n    }\n    /**\n     * Shows the tiles progressively in order\n     *\n     * @param {Number} duration\n     *  Length of the animation in seconds\n     * @return {Tween}\n     *  An instance of Tween (check tweenjs docs)\n     */\n\n  }, {\n    key: \"showTilesOrdered\",\n    value: function showTilesOrdered(duration) {\n      return Durden.setTileVisibilityAnimated(this.tiling.getAllTiles(), true, duration);\n    }\n    /**\n     * Hides tiles progressively in order\n     *\n     * @param {Number} duration\n     *  Length of the animation in seconds\n     * @return {Tween}\n     *  An instance of Tween (check tweenjs docs)\n     */\n\n  }, {\n    key: \"hideTilesOrdered\",\n    value: function hideTilesOrdered(duration) {\n      return Durden.setTileVisibilityAnimated(this.tiling.getAllTiles(), false, duration);\n    }\n    /**\n     * Shows supertiles progressively in order\n     *\n     * @param {Number} duration\n     *  Length of the animation in seconds\n     * @return {Tween}\n     *  An instance of Tween (check tweenjs docs)\n     */\n\n  }, {\n    key: \"showSuperTilesOrdered\",\n    value: function showSuperTilesOrdered(duration) {\n      return Durden.setTileVisibilityAnimated(this.tiling.getAllSuperTiles(), true, duration);\n    }\n    /**\n     * Hides supertiles progressively in order\n     *\n     * @param {Number} duration\n     *  Length of the animation in seconds\n     * @return {Tween}\n     *  An instance of Tween (check tweenjs docs)\n     */\n\n  }, {\n    key: \"hideSuperTilesOrdered\",\n    value: function hideSuperTilesOrdered(duration) {\n      return Durden.setTileVisibilityAnimated(this.tiling.getAllSuperTiles(), false, duration);\n    }\n    /**\n     * Set the visibility of all tiles\n     *\n     * @param {boolean} visibility\n     *  True if they should be shown, false if hidden\n     */\n\n  }, {\n    key: \"setTileVisibility\",\n    value: function setTileVisibility(visibility) {\n      this.tiling.getAllTiles().forEach(function (tile) {\n        tile.path.opacity = visibility ? 1 : 0;\n      });\n    }\n    /**\n     * Change the visibility of an (ordered) list of tiles progressively\n     *\n     * @param {Array} tiles\n     *  Ordered list of tiles or supertiles to show\n     * @param {boolean} visibility\n     *  True if tiles should be made visible\n     * @param {Number} duration\n     *  Length of the animation in seconds\n     * @return {Tween}\n     *  An instance of Tween (check tweenjs docs)\n     */\n\n  }, {\n    key: \"getBounds\",\n\n    /**\n     * Returns the inner bounding box of the tiling.\n     *\n     * The inner bounding box should be the maximal rectangle which is, at all points in the\n     * transformation, completely covered by tiles.\n     *\n     * @return {paper.Rectangle}\n     */\n    value: function getBounds() {\n      var corner1 = this.tiling.superTiles[0][0].group.bounds.center;\n      var corner2 = this.tiling.superTiles[0][this.tiling.m - 1].group.bounds.center;\n      var corner3 = this.tiling.superTiles[this.tiling.n - 1][0].group.bounds.center;\n      var corner4 = this.tiling.superTiles[this.tiling.n - 1][this.tiling.m - 1].group.bounds.center;\n      var minX = Math.min(corner1.x, corner3.x);\n      var maxX = Math.max(corner2.x, corner4.x);\n      var minY = Math.min(corner1.y, corner2.y, corner3.y, corner4.y);\n      var maxY = Math.max(corner1.y, corner2.y, corner3.y, corner4.y);\n      return new paper.Rectangle({\n        from: new paper.Point(minX, minY),\n        to: new paper.Point(maxX, maxY)\n      });\n    }\n    /**\n     * Animates the transformation of the shape of the tiles while maintaining the tiling.\n     *\n     * The angles and side length of the tiles are modified within the parameters\n     * of a Type 8 pentagonal tiling.\n     *\n     * @param {Number} duration\n     *  Length of the animation\n     * @param {Number} angleFrom\n     *  Starting angle (in range Durden.MIN_ANGLE, Durden.MAX_ANGLE)\n     * @param {Number} angleTo\n     *  Ending angle (in range Durden.MIN_ANGLE, Durden.MAX_ANGLE)\n     *  Whether to rescale the animation viewport to completely fill the container\n     * @param {boolean} rescale\n     *  If true the tiling will be stretched to fill the container\n     * @return {Tween}\n     *  An instance of Tween (check tweenjs docs)\n     */\n\n  }, {\n    key: \"transformTilesAnimated\",\n    value: function transformTilesAnimated(duration) {\n      var _this = this;\n\n      var angleFrom = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : Durden.MIN_ANGLE;\n      var angleTo = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : Durden.MAX_ANGLE;\n      var rescale = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n      return new TWEEN.Tween({\n        angle: angleFrom\n      }).to({\n        angle: angleTo\n      }, duration).easing(TWEEN.Easing.Sinusoidal.InOut).onUpdate(function (progress) {\n        _this.transformTiles(_this.bcdeLen, progress.angle, rescale);\n      }).repeat(Infinity).yoyo(true).start();\n    }\n    /**\n     * Transforms the shape of the tiles and adjusts the view.\n     *\n     * @param {Number} segmentLen\n     *  Length of the segments. Only the E-A segment has a different length.\n     * @param {Number} angB\n     *  Angle for vertex B (in degrees)\n     * @param {boolean} rescale\n     *  Whether the tiling should be rescaled to fill the container\n     */\n\n  }, {\n    key: \"transformTiles\",\n    value: function transformTiles(segmentLen, angB) {\n      var rescale = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n      this.tiling.transform(segmentLen, angB);\n      var bounds = this.getBounds();\n\n      if (rescale) {\n        if (paper.view.getViewSize().width > bounds.width || paper.view.getViewSize().height > bounds.height) {\n          paper.view.setScaling(Math.max(paper.view.getViewSize().width / bounds.width, paper.view.getViewSize().height / bounds.height));\n        } else {\n          paper.view.setScaling(Math.max(paper.view.getViewSize().width / bounds.width, paper.view.getViewSize().height / bounds.height));\n        }\n      }\n\n      paper.view.setCenter(bounds.getCenter());\n    }\n    /**\n     * Set the stroke (contour line) of all the tiles\n     *\n     * @param {Number} width\n     *  Stroke width\n     * @param {String} fillColor\n     *  Stroke color (in #rrggbb format)\n     */\n\n  }, {\n    key: \"setStroke\",\n    value: function setStroke(width, fillColor) {\n      this.tiling.getAllTiles().forEach(function (tile) {\n        tile.setStroke(width, fillColor);\n      });\n    }\n    /**\n     * Color the supertiles in the tiling randomly.\n     *\n     * @param {Array} colors\n     *  List of colors (as '#rrggbb' strings).\n     */\n\n  }, {\n    key: \"colorSuperTilesRandom\",\n    value: function colorSuperTilesRandom(colors) {\n      this.tiling.getAllSuperTiles().forEach(function (superTile) {\n        var color = colors[Math.floor(Math.random() * colors.length)];\n        superTile.tile1.path.fillColor = color;\n        superTile.tile2.path.fillColor = color;\n        superTile.tile3.path.fillColor = color;\n        superTile.tile4.path.fillColor = color;\n      });\n    }\n    /**\n     * Color the tiles in the tiling randomly\n     *\n     * @param {Array} colors\n     *  List of colors (as '#rrggbb' strings).\n     */\n\n  }, {\n    key: \"colorTilesRandom\",\n    value: function colorTilesRandom(colors) {\n      this.tiling.getAllTiles().forEach(function (tile) {\n        tile.path.fillColor = colors[Math.floor(Math.random() * colors.length)];\n      });\n    }\n    /**\n     * Color the tiles in the tiling cyclically using the colors in order.\n     *\n     * @param {Array} colors\n     *  List of colors (as '#rrggbb' strings).\n     */\n\n  }, {\n    key: \"colorTilesPeriodic\",\n    value: function colorTilesPeriodic(colors) {\n      this.tiling.getAllTiles().forEach(function (tile, i) {\n        tile.path.fillColor = colors[i % colors.length];\n      });\n    }\n    /**\n     * Color the supertiles in the tiling cyclically using the colors in order.\n     *\n     * @param {Array} colors\n     *  List of colors (as '#rrggbb' strings).\n     */\n\n  }, {\n    key: \"colorSuperTilesPeriodic\",\n    value: function colorSuperTilesPeriodic(colors) {\n      this.tiling.getAllTiles().forEach(function (tile, i) {\n        tile.path.fillColor = colors[Math.floor(i / 4) % colors.length];\n      });\n    }\n  }], [{\n    key: \"shuffle\",\n    value: function shuffle(anArray) {\n      var currentIndex = anArray.length; // While there remain elements to shuffle...\n\n      while (currentIndex !== 0) {\n        // Pick a remaining element...\n        var randomIndex = Math.floor(Math.random() * currentIndex);\n        currentIndex -= 1; // And swap it with the current element.\n\n        var temporaryValue = anArray[currentIndex];\n        anArray[currentIndex] = anArray[randomIndex];\n        anArray[randomIndex] = temporaryValue;\n      }\n\n      return anArray;\n    }\n  }, {\n    key: \"setTileVisibilityAnimated\",\n    value: function setTileVisibilityAnimated(tiles, visibility, duration) {\n      var shown = 0;\n      return new TWEEN.Tween({\n        last: 0\n      }).to({\n        last: tiles.length - 1\n      }, duration).easing(TWEEN.Easing.Cubic.In).onUpdate(function (progress) {\n        var last = Math.floor(progress.last);\n\n        for (var i = shown; i <= last; i += 1) {\n          tiles[i].setVisibility(visibility);\n        }\n\n        shown = last;\n      }).start();\n    }\n  }]);\n\n  return Durden;\n}();\n\nDurden.MAX_ANGLE = _tiling[\"default\"].MAX_B;\nDurden.MIN_ANGLE = _tiling[\"default\"].MIN_B;\nDurden.Themes = {\n  RGB: ['#ff9999', '#99ff99', '#9999ff', '#ff99ff'],\n  Spring: ['#54678C', '#9BDAF2', '#F2C12E', '#F2E1C2', '#D95252'],\n  Flowers: ['#D95B96', '#BABF1B', '#D9981E', '#D9751E', '#8C1616'],\n  Autumn: ['#A62447', '#D9326F', '#525F43', '#6C2A35', '#D9936A'],\n  Winter: ['#0B0340', '#263973', '#495F8C', '#A0CCF2', '#514071'],\n  Christmas: ['#F2293A', '#F24464', '#678C5D', '#730202', '#BFBFBD']\n};\nmodule.exports = {\n  Durden: Durden,\n  Themes: Durden.Themes,\n  MIN_ANGLE: Durden.MIN_ANGLE,\n  MAX_ANGLE: Durden.MAX_ANGLE\n};\n\n},{\"./tiling\":4}],2:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _tile = _interopRequireDefault(require(\"./tile\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n/**\n * A SuperTile is a group of four adjacent tiles, each of which is flipped\n * in each of the four different ways. SuperTiles can be placed in a grid\n * to create a Tiling.\n *\n * Each of the \"outer\" vertexes of a SuperTile has a name according to its position:\n * N = North, NNE = North-northeast, NEE=Northeast-east, etc.\n */\nvar SuperTile =\n/*#__PURE__*/\nfunction () {\n  function SuperTile() {\n    _classCallCheck(this, SuperTile);\n\n    this.tile1 = new _tile[\"default\"]('#ff9999', false, false);\n    this.tile2 = new _tile[\"default\"]('#99ff99', true, false);\n    this.tile3 = new _tile[\"default\"]('#9999ff', false, true);\n    this.tile4 = new _tile[\"default\"]('#ff99ff', true, true);\n    this.group = new paper.Group([this.tile1.path, this.tile2.path, this.tile3.path, this.tile4.path]);\n    this.group.applyMatrix = false;\n  }\n  /**\n   * Alters the shape of the SuperTile according to the arguments\n   *\n   * @param {Number} segmentLength\n   *  Length of the segments. Only the E-A segment has a different length.\n   * @param {Number} angB\n   *  Angle for vertex B (in degrees)\n   */\n\n\n  _createClass(SuperTile, [{\n    key: \"transform\",\n    value: function transform(segmentLength, angB) {\n      this.tile1.transform(segmentLength, angB);\n      this.tile2.copyShape(this.tile1, false);\n      this.tile3.copyShape(this.tile1, false);\n      this.tile4.copyShape(this.tile1, false); // Align segment E-A of tile2 to E-A of tile1\n\n      this.tile2.path.rotate(this.tile1.vE.subtract(this.tile1.vA).getAngle() - this.tile2.vE.subtract(this.tile2.vA).getAngle()); // Move vertex A of tile2 to vertex A of tile1\n\n      this.tile2.path.translate(this.tile1.vA.subtract(this.tile2.vA)); // Align segment D-C of tile3 to E-D of tile1\n\n      this.tile3.path.rotate(this.tile1.vE.subtract(this.tile1.vD).getAngle() - this.tile3.vD.subtract(this.tile3.vC).getAngle()); // Move vertex D of tile3 to vertex E of tile1\n\n      this.tile3.path.translate(this.tile1.vE.subtract(this.tile3.vD)); // Align segment E-A of tile4 to E-A of tile3\n\n      this.tile4.path.rotate(this.tile3.vE.subtract(this.tile3.vA).getAngle() - this.tile4.vE.subtract(this.tile4.vA).getAngle()); // Move vertex A of tile4 to vertex A of tile3\n\n      this.tile4.path.translate(this.tile3.vA.subtract(this.tile4.vA));\n    }\n    /**\n     * Sets visibility of the supertile\n     *\n     * @param {boolean} visible\n     *  True if it should be made visible, false to hide it.\n     */\n\n  }, {\n    key: \"setVisibility\",\n    value: function setVisibility(visible) {\n      this.tile1.setVisibility(visible);\n      this.tile2.setVisibility(visible);\n      this.tile3.setVisibility(visible);\n      this.tile4.setVisibility(visible);\n    }\n    /**\n     * North vertex\n     * @return {paper.Point}\n     */\n\n  }, {\n    key: \"copyShape\",\n\n    /**\n     * Makes this tile copy the shape of another supertile.\n     *\n     * The \"shape\" is defined by the shape of all the tiles and their transformation matrixes.\n     *\n     */\n    value: function copyShape(superTile) {\n      this.tile1.copyShape(superTile.tile1);\n      this.tile2.copyShape(superTile.tile2);\n      this.tile3.copyShape(superTile.tile3);\n      this.tile4.copyShape(superTile.tile4);\n    }\n  }, {\n    key: \"north\",\n    get: function get() {\n      return this.group.localToParent(this.tile1.vA);\n    }\n    /**\n     * North-northeast vertex\n     * @return {paper.Point}\n     */\n\n  }, {\n    key: \"nne\",\n    get: function get() {\n      return this.group.localToParent(this.tile1.vB);\n    }\n    /**\n     * Northeast-east vertex\n     * @return {paper.Point}\n     */\n\n  }, {\n    key: \"nee\",\n    get: function get() {\n      return this.group.localToParent(this.tile1.vC);\n    }\n    /**\n     * South vertex\n     * @return {paper.Point}\n     */\n\n  }, {\n    key: \"south\",\n    get: function get() {\n      return this.group.localToParent(this.tile3.vA);\n    }\n    /**\n     * Southeast vertex\n     * @return {paper.Point}\n     */\n\n  }, {\n    key: \"se\",\n    get: function get() {\n      return this.group.localToParent(this.tile3.vB);\n    }\n    /**\n     * South-southwest vertex\n     * @return {paper.Point}\n     */\n\n  }, {\n    key: \"ssw\",\n    get: function get() {\n      return this.group.localToParent(this.tile4.vB);\n    }\n    /**\n     * Southwest-west vertex\n     * @return {paper.Point}\n     */\n\n  }, {\n    key: \"sww\",\n    get: function get() {\n      return this.group.localToParent(this.tile4.vC);\n    }\n    /**\n     * East vertex\n     * @return {paper.Point}\n     */\n\n  }, {\n    key: \"east\",\n    get: function get() {\n      return this.group.localToParent(this.tile1.vD);\n    }\n    /**\n     * West vertex\n     * @return {paper.Point}\n     */\n\n  }, {\n    key: \"west\",\n    get: function get() {\n      return this.group.localToParent(this.tile2.vC);\n    }\n    /**\n     * Northwest vertex\n     * @return {paper.Point}\n     */\n\n  }, {\n    key: \"nw\",\n    get: function get() {\n      return this.group.localToParent(this.tile2.vB);\n    }\n  }]);\n\n  return SuperTile;\n}();\n\nexports[\"default\"] = SuperTile;\n\n},{\"./tile\":3}],3:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n/* globals paper */\n\n/**\n * A single tile\n *\n *           D\n *         /   \\\n *      /        \\\n *    E            \\\n *    |              C\n *   |              |\n *   |              |\n *  |              |\n *  A-------------B\n *\n */\nvar Tile =\n/*#__PURE__*/\nfunction () {\n  /**\n   * Constructor\n   *\n   * @param {string} fillColor\n   *  Tile color\n   * @param {boolean} flipH\n   *  If true the tile will be flipped horizontally\n   * @param {boolean} flipV\n   *  If true the tile will be flipped vertically\n   */\n  function Tile(fillColor) {\n    var flipH = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    var flipV = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n    _classCallCheck(this, Tile);\n\n    this.path = new paper.Path();\n    this.path.closed = true;\n    this.path.applyMatrix = false;\n    this.path.scale(flipH ? -1 : 1, flipV ? -1 : 1);\n    this.path.fillColor = fillColor;\n    this.path.strokeColor = '#999999';\n    this.path.strokeWidth = 1;\n\n    for (var i = 0; i < 5; i += 1) {\n      this.path.add(new paper.Point(0, 0));\n    }\n  }\n  /**\n   * Alters the shape of the tile according to the arguments\n   *\n   * @param {Number} segmentLen\n   *  Length of the segments. Only the E-A segment has a different length.\n   * @param {Number} angB\n   *  Angle for vertex B (in degrees)\n   */\n\n\n  _createClass(Tile, [{\n    key: \"transform\",\n    value: function transform(segmentLen, angB) {\n      var segments = this.path.segments;\n      var angC = 360.0 - 2.0 * angB;\n      var beta = (180 - angB) / 2;\n      var lengtha = 2 * Math.sin(angB / 2 * Math.PI / 180); // Law of cosines\n\n      var lengthb = Math.sqrt(lengtha * lengtha + 2 * 2 - 2 * lengtha * 2 * Math.cos((angC - beta) * Math.PI / 180)); // Law of sines: sin((angC - beta))/lengthb = sin(d/2)/lengtha\n\n      var angD = 2 * Math.asin(Math.sin((angC - beta) * Math.PI / 180) / lengthb * lengtha) * 180 / Math.PI; // If you don't read the next line you're not an accomplice and your soul is still saved. SORRY.\n      // const angD = angB * 1.51 - 99.38\n      //   + ((1 - Math.cos((angB - 109) * Math.PI / 180)) * 17.5 - 0.5); // UGLY\n\n      var angles = [0, angB, angC, angD];\n      var angle = 0;\n      [1, 2, 3, 4].forEach(function (i) {\n        angle += 180 - angles[i - 1];\n        segments[i].point.set(segments[i - 1].point.add(new paper.Point({\n          length: segmentLen,\n          angle: angle\n        })));\n      });\n    }\n    /**\n     * Modify the tile's stroke (contour line)\n     *\n     * @param {Number} width\n     *  Stroke width\n     * @param {String} color\n     *  Stroke color (in #rrggbb format)\n     */\n\n  }, {\n    key: \"setStroke\",\n    value: function setStroke(width, color) {\n      this.path.strokeWidth = width;\n      this.path.strokeColor = color;\n    }\n    /**\n     * Set the inner color of the tile\n     *\n     * @param {String} color\n     *  Fill color (in #rrggbb format)\n     */\n\n  }, {\n    key: \"setColor\",\n    value: function setColor(color) {\n      this.path.fillColor = color;\n    }\n    /**\n     * Sets visibility of the tile\n     *\n     * @param {boolean} visible\n     *  True if it should be made visible, false to hide it.\n     */\n\n  }, {\n    key: \"setVisibility\",\n    value: function setVisibility(visible) {\n      this.path.opacity = visible ? 1 : 0;\n    }\n    /**\n     * Vertex A\n     * @return {paper.Point}\n     */\n\n  }, {\n    key: \"copyShape\",\n\n    /**\n     * Makes this tile copy the shape of another tile\n     *\n     * The \"shape\" includes the position of all vertices and the transformation matrix.\n     *\n     * @param {Tile} tile\n     * @param {boolean} copyMatrix\n     *  Whether to copy the transformation matrix\n     */\n    value: function copyShape(tile) {\n      var copyMatrix = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n      for (var i = 1; i <= 4; i += 1) {\n        this.path.segments[i].point.set(tile.path.segments[i].point);\n      }\n\n      if (copyMatrix) {\n        this.path.setMatrix(tile.path.getMatrix());\n      }\n    }\n  }, {\n    key: \"vA\",\n    get: function get() {\n      return this.path.localToParent(this.path.segments[0].point);\n    }\n    /**\n     * Vertex B\n     * @return {paper.Point}\n     */\n\n  }, {\n    key: \"vB\",\n    get: function get() {\n      return this.path.localToParent(this.path.segments[1].point);\n    }\n    /**\n     * Vertex C\n     * @return {paper.Point}\n     */\n\n  }, {\n    key: \"vC\",\n    get: function get() {\n      return this.path.localToParent(this.path.segments[2].point);\n    }\n    /**\n     * Vertex D\n     * @return {paper.Point}\n     */\n\n  }, {\n    key: \"vD\",\n    get: function get() {\n      return this.path.localToParent(this.path.segments[3].point);\n    }\n    /**\n     * Vertex E\n     * @return {paper.Point}\n     */\n\n  }, {\n    key: \"vE\",\n    get: function get() {\n      return this.path.localToParent(this.path.segments[4].point);\n    }\n  }]);\n\n  return Tile;\n}();\n\nexports[\"default\"] = Tile;\n\n},{}],4:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _supertile = _interopRequireDefault(require(\"./supertile\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n/**\n * A pentagonal tiling\n */\nvar Tiling =\n/*#__PURE__*/\nfunction () {\n  /**\n   * Builds a tiling of n x m SuperTiles\n   *\n   * @param {Number} n\n   * @param {Number} m\n   */\n  function Tiling(n, m) {\n    _classCallCheck(this, Tiling);\n\n    this.n = n;\n    this.m = m;\n    this.superTiles = Tiling.createMatrix(this.n, this.m); // Create and connect supertiles\n\n    for (var i = 0; i < this.n; i += 1) {\n      for (var j = 0; j < this.m; j += 1) {\n        this.superTiles[i][j] = new _supertile[\"default\"]();\n\n        if (j % 2 === 1) {\n          // Supertiles in odd rows are flipped and rotated\n          this.superTiles[i][j].group.scale(1, -1);\n        }\n      }\n    }\n  }\n  /**\n   * Alters the shape of the tiles according to the arguments\n   *\n   * @param {Number} segmentLen\n   *  Length of the segments. Only the E-A segment has a different length.\n   * @param {Number} angB\n   *  Angle for vertex B (in degrees)\n   */\n\n\n  _createClass(Tiling, [{\n    key: \"transform\",\n    value: function transform(segmentLen, angB) {\n      var firstTile = this.superTiles[0][0];\n      firstTile.transform(segmentLen, angB); // This baseAngle produces an almost rectangular \"stacking\" of supertiles\n\n      var baseAngle = 180 - firstTile.tile4.vB.subtract(firstTile.tile1.vC).getAngle();\n      var flippedAngle = angB + firstTile.tile2.vB.subtract(firstTile.tile2.vA).getAngle();\n      this.superTiles[0][0].group.rotation = baseAngle;\n\n      for (var i = 0; i < this.n; i += 1) {\n        for (var j = 0; j < this.m; j += 1) {\n          if (i === 0 && j === 0) {\n            // eslint-disable-next-line no-continue\n            continue;\n          }\n\n          this.superTiles[i][j].copyShape(firstTile);\n\n          if (j % 2 === 1) {\n            // Supertiles in odd rows are rotated\n            this.superTiles[i][j].group.rotation = baseAngle + flippedAngle;\n          } else {\n            this.superTiles[i][j].group.rotation = baseAngle;\n          }\n\n          var distances = [];\n\n          if (i > 0) {\n            if (j % 2 === 1) {\n              distances.push(this.superTiles[i - 1][j].sww.subtract(this.superTiles[i][j].nne));\n            } else {\n              distances.push(this.superTiles[i - 1][j].nne.subtract(this.superTiles[i][j].sww));\n            }\n          }\n\n          if (j > 0) {\n            distances.push(this.superTiles[i][j - 1].south.subtract(this.superTiles[i][j].west));\n          }\n\n          if (distances.length === 1) {\n            this.superTiles[i][j].group.translate(distances[0]);\n          }\n\n          if (distances.length === 2) {\n            this.superTiles[i][j].group.translate(distances[0].add(distances[1]).multiply(0.5));\n          }\n        }\n      }\n    }\n    /**\n     * Returns all the tiles in the tiling\n     * @return {[]}\n     */\n\n  }, {\n    key: \"getAllTiles\",\n    value: function getAllTiles() {\n      var tiles = [];\n      this.superTiles.forEach(function (row) {\n        row.forEach(function (superTile) {\n          tiles.push(superTile.tile1);\n          tiles.push(superTile.tile2);\n          tiles.push(superTile.tile3);\n          tiles.push(superTile.tile4);\n        });\n      });\n      return tiles;\n    }\n  }, {\n    key: \"getAllSuperTiles\",\n    value: function getAllSuperTiles() {\n      var superTiles = [];\n      this.superTiles.forEach(function (row) {\n        row.forEach(function (superTile) {\n          superTiles.push(superTile);\n        });\n      });\n      return superTiles;\n    }\n    /**\n     * Creates an empty matrix of size n x m\n     *\n     * @param {Number} n\n     * @param {Number} m\n     * @return {[]}\n     */\n\n  }], [{\n    key: \"createMatrix\",\n    value: function createMatrix(n, m) {\n      var matrix = [];\n\n      for (var i = 0; i < n; i += 1) {\n        var newRow = [];\n\n        for (var j = 0; j < m; j += 1) {\n          newRow.push([]);\n        }\n\n        matrix.push(newRow);\n      }\n\n      return matrix;\n    }\n  }]);\n\n  return Tiling;\n}();\n\nexports[\"default\"] = Tiling;\nTiling.MIN_B = 74;\nTiling.MAX_B = 156;\n\n},{\"./supertile\":2}]},{},[1])(1)\n});\n"]}